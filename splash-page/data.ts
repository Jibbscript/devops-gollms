export const IMAGES = {
  hero: "https://private-us-east-1.manuscdn.com/sessionFile/rNXhLMUAC9vEf8SHfsJjYM/sandbox/hh8BPQB5CV4rTCbMBOoRqR-img-1_1770494957000_na1fn_aGVyby1ibHVlcHJpbnQ.png?x-oss-process=image/resize,w_1920,h_1920/format,webp/quality,q_80&Expires=1798761600&Policy=eyJTdGF0ZW1lbnQiOlt7IlJlc291cmNlIjoiaHR0cHM6Ly9wcml2YXRlLXVzLWVhc3QtMS5tYW51c2Nkbi5jb20vc2Vzc2lvbkZpbGUvck5YaExNVUFDOXZFZjhTSGZzSmpZTS9zYW5kYm94L2hoOEJQUUI1Q1Y0clRDYk1CT29ScVItaW1nLTFfMTc3MDQ5NDk1NzAwMF9uYTFmbl9hR1Z5YnkxaWJIVmxjSEpwYm5RLnBuZz94LW9zcy1wcm9jZXNzPWltYWdlL3Jlc2l6ZSx3XzE5MjAsaF8xOTIwL2Zvcm1hdCx3ZWJwL3F1YWxpdHkscV84MCIsIkNvbmRpdGlvbiI6eyJEYXRlTGVzc1RoYW4iOnsiQVdTOkVwb2NoVGltZSI6MTc5ODc2MTYwMH19fV19&Key-Pair-Id=K2HSFNDJXOU9YS&Signature=mlxL770DEFbIS-sNlAeS5IS4ax24Zx5HH1uiHLndQszoeH0VroqHzz6diHM4SYIjOoKH129Rd~UqpIhGjM4Zo9ZiaDiwNeXUhtUIU2Nbhf1iKbUTTioODqIyp8-G1cr1lXvRAavNHwooqMJ-z-wV9kexBwlzrLRsgi7blfNE-FcHbUfihmsQFBzxrxj~zd01N7ELAw2T2k9~SVyCXZx44lFa~vXWiRO5sOryVmKYHJfNfspEmsMMwXXTrGtNqcjDhHZtQM0u8gt-WNsqd-9hFaygZxDB2Smy5Db4P~i5VXkQm2kGjpcAwBOJjuKC5-BHz9nQwjN3iIFKACS7-Wb-DA__",
  triage: "https://private-us-east-1.manuscdn.com/sessionFile/rNXhLMUAC9vEf8SHfsJjYM/sandbox/hh8BPQB5CV4rTCbMBOoRqR-img-2_1770494952000_na1fn_YWdlbnQtdHJpYWdl.png?x-oss-process=image/resize,w_1920,h_1920/format,webp/quality,q_80&Expires=1798761600&Policy=eyJTdGF0ZW1lbnQiOlt7IlJlc291cmNlIjoiaHR0cHM6Ly9wcml2YXRlLXVzLWVhc3QtMS5tYW51c2Nkbi5jb20vc2Vzc2lvbkZpbGUvck5YaExNVUFDOXZFZjhTSGZzSmpZTS9zYW5kYm94L2hoOEJQUUI1Q1Y0clRDYk1CT29ScVItaW1nLTJfMTc3MDQ5NDk1MjAwMF9uYTFmbl9ZV2RsYm5RdGRISnBZV2RsLnBuZz94LW9zcy1wcm9jZXNzPWltYWdlL3Jlc2l6ZSx3XzE5MjAsaF8xOTIwL2Zvcm1hdCx3ZWJwL3F1YWxpdHkscV84MCIsIkNvbmRpdGlvbiI6eyJEYXRlTGVzc1RoYW4iOnsiQVdTOkVwb2NoVGltZSI6MTc5ODc2MTYwMH19fV19&Key-Pair-Id=K2HSFNDJXOU9YS&Signature=NkoA2e8qOkTvkuk~0tb878QUjdKWY8E40a3c~XfLR8gAS50VeCKcje8ttASybTKLHkKXQlPheJocLwmh0uOd9h~gUtcPWX4CPpWXcJcE047BUtwOcjID8FzafJZd5uFLnw~uYf6hc~pttB2VgcekSq27KhwGblnrNRiF6XiahLEv0uZO5LEz8M5l5miNqNBgPfS8qEowEQCzzeP5SoTxrFsBLGKW7ErGbVPRx-xdqyXloalx6h8kY8sbazAa6GpGlImvcytKW7jCmrRLO76dhxMaj0Noa6fK8rrLShhXmlHsTT4YYen1wADfx-4iLPgDDWXI0t-5Vxcdguv9VNFhFA__",
  mirror: "https://private-us-east-1.manuscdn.com/sessionFile/rNXhLMUAC9vEf8SHfsJjYM/sandbox/hh8BPQB5CV4rTCbMBOoRqR-img-3_1770494950000_na1fn_YWdlbnQtbWlycm9y.png?x-oss-process=image/resize,w_1920,h_1920/format,webp/quality,q_80&Expires=1798761600&Policy=eyJTdGF0ZW1lbnQiOlt7IlJlc291cmNlIjoiaHR0cHM6Ly9wcml2YXRlLXVzLWVhc3QtMS5tYW51c2Nkbi5jb20vc2Vzc2lvbkZpbGUvck5YaExNVUFDOXZFZjhTSGZzSmpZTS9zYW5kYm94L2hoOEJQUUI1Q1Y0clRDYk1CT29ScVItaW1nLTNfMTc3MDQ5NDk1MDAwMF9uYTFmbl9ZV2RsYm5RdGJXbHljbTl5LnBuZz94LW9zcy1wcm9jZXNzPWltYWdlL3Jlc2l6ZSx3XzE5MjAsaF8xOTIwL2Zvcm1hdCx3ZWJwL3F1YWxpdHkscV84MCIsIkNvbmRpdGlvbiI6eyJEYXRlTGVzc1RoYW4iOnsiQVdTOkVwb2NoVGltZSI6MTc5ODc2MTYwMH19fV19&Key-Pair-Id=K2HSFNDJXOU9YS&Signature=Mf5siPlBPuOcOdxaBLqWrc74xUmE8MKMmxq-Z0I941gCO7SIUb3KVcdk~R~GaAilPsmgEdsjXDwkj7A3jpxYnpzEgCcF9XrDksnmj8abda4r4jhufviEDh9aAWSJXrSa~aK-TBE99Zyfuv9PW~KArNsBgpDNgetQdwcpDbQ3U1-MrxLHP9fm9wAQtWSDz~9HJaYCb0AyFRwjbOiNWb0HiFtOmzrsOWlnQEmM5VsBxGvkt~-W384WVz1ZBjLdwlVaDUwiWVU9-ApaQRXypUtBH0GeOpIQbN5vaXkb1kRny6pOm9izIta1DaNUebcQCFYZjfwRCyeVNAwSEmg85pgUmA__",
  scaffolder: "https://private-us-east-1.manuscdn.com/sessionFile/rNXhLMUAC9vEf8SHfsJjYM/sandbox/hh8BPQB5CV4rTCbMBOoRqR-img-4_1770494975000_na1fn_YWdlbnQtc2NhZmZvbGRlcg.png?x-oss-process=image/resize,w_1920,h_1920/format,webp/quality,q_80&Expires=1798761600&Policy=eyJTdGF0ZW1lbnQiOlt7IlJlc291cmNlIjoiaHR0cHM6Ly9wcml2YXRlLXVzLWVhc3QtMS5tYW51c2Nkbi5jb20vc2Vzc2lvbkZpbGUvck5YaExNVUFDOXZFZjhTSGZzSmpZTS9zYW5kYm94L2hoOEJQUUI1Q1Y0clRDYk1CT29ScVItaW1nLTRfMTc3MDQ5NDk3NTAwMF9uYTFmbl9ZV2RsYm5RdGMyTmhabVp2YkdSbGNnLnBuZz94LW9zcy1wcm9jZXNzPWltYWdlL3Jlc2l6ZSx3XzE5MjAsaF8xOTIwL2Zvcm1hdCx3ZWJwL3F1YWxpdHkscV84MCIsIkNvbmRpdGlvbiI6eyJEYXRlTGVzc1RoYW4iOnsiQVdTOkVwb2NoVGltZSI6MTc5ODc2MTYwMH19fV19&Key-Pair-Id=K2HSFNDJXOU9YS&Signature=SEgWqYMpfQbzYhDfl3ri59H-azYZ2WAwpd6X~6Jhz7VFAMfUnE1sZeCC5PjJcbRDrZuUafCduhG5V1KcZQzTetcb06knfJz6BOVs8UbwyXqtV6n3-a8y2jOJ~YGN8absgZCyQ0NPZFLqeWe7kzbcgFbYhwDAGVvavuTv0SiyjEcClsJeUQrOvxgaai-0pF96w3kwIlYfLac--7K08rlIDkTXtAzqOjY90d2j5GJBv3sM8KckbLnaPWIDnU-EMebPDYDt-PjbvXpoqw6Ihku93EU996xoSHgyjdao5H8CXg9YwUSOz7CfSaSzlPPK2y3nHtFlRipq3ZwcbAxbKM90qg__",
  janitor: "https://private-us-east-1.manuscdn.com/sessionFile/rNXhLMUAC9vEf8SHfsJjYM/sandbox/hh8BPQB5CV4rTCbMBOoRqR-img-5_1770494952000_na1fn_YWdlbnQtamFuaXRvcg.png?x-oss-process=image/resize,w_1920,h_1920/format,webp/quality,q_80&Expires=1798761600&Policy=eyJTdGF0ZW1lbnQiOlt7IlJlc291cmNlIjoiaHR0cHM6Ly9wcml2YXRlLXVzLWVhc3QtMS5tYW51c2Nkbi5jb20vc2Vzc2lvbkZpbGUvck5YaExNVUFDOXZFZjhTSGZzSmpZTS9zYW5kYm94L2hoOEJQUUI1Q1Y0clRDYk1CT29ScVItaW1nLTVfMTc3MDQ5NDk1MjAwMF9uYTFmbl9ZV2RsYm5RdGFtRnVhWFJ2Y2cucG5nP3gtb3NzLXByb2Nlc3M9aW1hZ2UvcmVzaXplLHdfMTkyMCxoXzE5MjAvZm9ybWF0LHdlYnAvcXVhbGl0eSxxXzgwIiwiQ29uZGl0aW9uIjp7IkRhdGVMZXNzVGhhbiI6eyJBV1M6RXBvY2hUaW1lIjoxNzk4NzYxNjAwfX19XX0_&Key-Pair-Id=K2HSFNDJXOU9YS&Signature=VLPdH7b1SPYRlHGylpfpYoUxojtnOLEf1cvIgeVapOugwjThZbyS3fW8NeZM0rgKr-U-QTDnDgZ1~sAXTpMopTfGbu2nViPMEKeL0Bkr3GoVt-ZQdOMiL0j-4XnwrYjPOy3dKbGyFDnfjyAVtbaM~8Rlt186i-xHNDa5mWm6PwESeITBZI4P2G7GQ-HWi3xg3cQ4t4iaDq0N1Jn9ToDWo1O7YICKp8e-IfxlTeK-mWaWxqEVl1ZLnHgSvhAtrNdSJhuARBGI71dbKa7UzDi6RRFwq~ru9lXZPc-jpe37BGz-dMRgirPopDGThz-dEuKUOxnFDN01kaG8C4z8QTqtJQ__",
  gatekeeper: "https://private-us-east-1.manuscdn.com/sessionFile/rNXhLMUAC9vEf8SHfsJjYM/sandbox/sktMG9Gq3l2BEO46FntlvJ-img-1_1770495023000_na1fn_YWdlbnQtZ2F0ZWtlZXBlcg.png?x-oss-process=image/resize,w_1920,h_1920/format,webp/quality,q_80&Expires=1798761600&Policy=eyJTdGF0ZW1lbnQiOlt7IlJlc291cmNlIjoiaHR0cHM6Ly9wcml2YXRlLXVzLWVhc3QtMS5tYW51c2Nkbi5jb20vc2Vzc2lvbkZpbGUvck5YaExNVUFDOXZFZjhTSGZzSmpZTS9zYW5kYm94L3NrdE1HOUdxM2wyQkVPNDZGbnRsdkotaW1nLTFfMTc3MDQ5NTAyMzAwMF9uYTFmbl9ZV2RsYm5RdFoyRjBaV3RsWlhCbGNnLnBuZz94LW9zcy1wcm9jZXNzPWltYWdlL3Jlc2l6ZSx3XzE5MjAsaF8xOTIwL2Zvcm1hdCx3ZWJwL3F1YWxpdHkscV84MCIsIkNvbmRpdGlvbiI6eyJEYXRlTGVzc1RoYW4iOnsiQVdTOkVwb2NoVGltZSI6MTc5ODc2MTYwMH19fV19&Key-Pair-Id=K2HSFNDJXOU9YS&Signature=K2UG9tZHKj0jlm8iLbnMV6RVXlGexvOytvJK0lEvgH1SWQz-w4Dku7NQmn0h~JWdpMs6jPKOOH0Rgq8XZe8L9bpHPhOzlgMvEmVD8UiswHvwkaJ8XOiBHemPLI-VQSsgSeGlYUoT57V6lcopIif6B2fdunmwcGsvRVebZlacTyYm9B5CbWwVLtwwJjhxJ~q5wGnbGeuPLvOSJhza48kgvkb8UBAaVHu3JDcBS9UCzNlBJtgHmgYa9uHOXV5WFvGVRJbbRjilI8tj4xr~ARjdHOAk-Men0tjHKBRVkPL1EsQvQOJsNKmF67aP8Lp3mYGgJ36xYagNJOOTBgVVGt30cg__",
};

export interface Agent {
  id: string;
  number: number;
  name: string;
  subtitle: string;
  image: string;
  color: string;
  glowClass: string;
  borderColor: string;
  textColor: string;
  bgColor: string;
  bottleneck: string;
  description: string;
  buildingBlocks: { name: string; description: string }[];
  integrations: { system: string; type: string; purpose: string }[];
  safetyRails: { mechanism: string; implementation: string; threshold: string }[];
  crossCutting: string[];
  mermaidContext: string;
  mermaidRuntime: string;
}

export const agents: Agent[] = [
  {
    id: "auto-triage",
    number: 1,
    name: "Auto-Triage",
    subtitle: "Autonomous Incident Response",
    image: IMAGES.triage,
    color: "#22d3ee",
    glowClass: "glow-cyan",
    borderColor: "border-cyan-500/30",
    textColor: "text-cyan-400",
    bgColor: "bg-cyan-500/10",
    bottleneck: "Alert fatigue, MTTR reduction",
    description: "An autonomous incident response system that investigates production alerts, reads logs and metrics, clones repositories, reproduces errors in a sandbox, proposes root cause analysis, and drafts pull requests for fixes. Operates on the ReAct pattern — interleaving reasoning and acting in a loop.",
    buildingBlocks: [
      { name: "Orchestrator (ReAct Loop)", description: "The brain — alternates between reasoning about the problem and taking actions via tools. Wrapped in a Temporal workflow for durability." },
      { name: "Memory (Short + Long-term)", description: "Short-term holds current investigation context. Long-term uses PostgreSQL + pgvector for semantic search over runbooks and past incidents." },
      { name: "Tool Interface", description: "Standardized interface for external systems. Handles authentication, rate limiting, retries, and error normalization." },
      { name: "Sandbox", description: "Docker-based isolated execution environment. Network-isolated, resource-limited (2 vCPU, 4GB RAM, 10 min timeout), ephemeral." },
    ],
    integrations: [
      { system: "Sentry", type: "Webhook + REST API", purpose: "Receive error events, fetch stack traces, tags, breadcrumbs" },
      { system: "PagerDuty", type: "Webhook + REST API", purpose: "Receive incidents, acknowledge, escalate, resolve" },
      { system: "AWS CloudWatch", type: "AWS SDK", purpose: "Query logs, metrics, and alarms for infrastructure context" },
      { system: "GitHub", type: "REST + GraphQL API", purpose: "Clone repos, read files, create branches, commit, open PRs" },
      { system: "Slack", type: "Bolt SDK", purpose: "Post triage updates, receive human override commands" },
    ],
    safetyRails: [
      { mechanism: "Max ReAct iterations", implementation: "Hard limit on reasoning/action cycles", threshold: "15 iterations per incident" },
      { mechanism: "Circuit breaker", implementation: "Detects repeated failed actions", threshold: "3 consecutive failures → escalate" },
      { mechanism: "Sandbox isolation", implementation: "Docker with no network, CPU/memory limits", threshold: "2 vCPU, 4GB RAM, 10 min" },
      { mechanism: "Write scope restriction", implementation: "Can only create branches/PRs, never merge", threshold: "Merge requires human approval" },
      { mechanism: "Token budget", implementation: "Maximum tokens per investigation", threshold: "$5 USD ceiling per incident" },
    ],
    crossCutting: [
      "State managed by Temporal.io — survives process crashes, replays from last checkpoint",
      "Tiered model strategy: GPT-4o-mini for log analysis, Claude 3.5 Sonnet for root cause reasoning",
      "Token usage tracked per investigation and reported in Slack summary",
    ],
    mermaidContext: `graph TD
    subgraph Observability
        A[Sentry] -->|Webhook| B((Auto-Triage\\nAgent))
        C[PagerDuty] -->|Webhook| B
        D[CloudWatch] -->|API| B
    end
    subgraph Code
        B -->|API| E[GitHub]
        F[CI/CD] -->|Status| B
    end
    subgraph Comms
        B -->|Post| G[Slack]
    end
    subgraph Knowledge
        H[Runbook DB] -->|RAG| B
        I[Incident History] -->|Query| B
    end`,
    mermaidRuntime: `sequenceDiagram
    participant S as Sentry
    participant PD as PagerDuty
    participant A as Agent
    participant GH as GitHub
    participant SB as Sandbox
    participant SL as Slack
    S->>PD: Error triggers incident
    PD->>A: Webhook: New incident
    A->>SL: Investigating incident
    A->>S: Fetch stack trace
    A->>GH: Clone repository
    A->>SB: Reproduce error
    SB-->>A: Error reproduced
    A->>SB: Apply fix + run tests
    SB-->>A: Tests pass
    A->>GH: Create PR with fix
    A->>SL: Root cause + PR ready`,
  },
  {
    id: "mirror",
    number: 2,
    name: "Mirror",
    subtitle: "Test Generation Agent",
    image: IMAGES.mirror,
    color: "#2dd4bf",
    glowClass: "glow-teal",
    borderColor: "border-teal-500/30",
    textColor: "text-teal-400",
    bgColor: "bg-teal-500/10",
    bottleneck: "Test coverage gaps, deterministic proof",
    description: "An autonomous test generation system that reads production code and generates comprehensive regression test suites as 'deterministic proof' of code behavior. Uses mutation testing to validate that generated tests actually catch bugs rather than merely achieving line coverage.",
    buildingBlocks: [
      { name: "Code Analyzer", description: "Parses source code into AST and builds dependency graph. Uses LLM to understand business logic semantics beyond static analysis." },
      { name: "Test Strategist", description: "Analyzes coverage reports to identify highest-value test targets. Prioritizes by complexity, change frequency, coverage gaps, and security criticality." },
      { name: "Test Writer", description: "Generates unit tests (pytest/testing), integration tests (testcontainers), and property-based tests (Hypothesis/rapid) using LLM + RAG patterns." },
      { name: "Validator", description: "Runs mutation testing (mutmut/Stryker) to verify tests catch real bugs. Feeds surviving mutants back to the Strategist in a feedback loop." },
    ],
    integrations: [
      { system: "GitHub", type: "REST + GraphQL API", purpose: "Clone repos, read source code, create test PRs" },
      { system: "CI Pipeline", type: "GitHub Actions", purpose: "Run generated tests, collect coverage reports" },
      { system: "Coverage Tools", type: "pytest-cov / go cover", purpose: "Measure code coverage delta from generated tests" },
      { system: "Mutation Engine", type: "mutmut / Stryker", purpose: "Validate test quality via mutation score" },
    ],
    safetyRails: [
      { mechanism: "Flaky test detection", implementation: "Run each test 3x to detect non-determinism", threshold: "3 runs per test" },
      { mechanism: "Test isolation", implementation: "Fresh fixtures, mocked external deps", threshold: "No shared state between tests" },
      { mechanism: "Cost ceiling", implementation: "Maximum budget per repository scan", threshold: "$10 per run (configurable)" },
      { mechanism: "Quality gate", implementation: "Minimum mutation score for PR creation", threshold: "60% mutation score minimum" },
    ],
    crossCutting: [
      "Coverage-driven feedback loop: generate → measure → identify gaps → generate more",
      "Mutation testing as primary quality metric (not line coverage)",
      "Tiered model approach: fast models for test skeletons, capable models for integration logic",
    ],
    mermaidContext: `graph TD
    subgraph Sources
        GH[GitHub] -->|Clone| M((Mirror\\nAgent))
        CI[CI Pipeline] -->|Coverage| M
    end
    subgraph Validation
        M -->|Run Tests| CI
        M -->|Mutate| MUT[Mutation Engine]
        MUT -->|Survivors| M
    end
    subgraph Output
        M -->|Create PR| GH
        M -->|Report| DASH[Dashboard]
    end`,
    mermaidRuntime: `sequenceDiagram
    participant T as Trigger
    participant A as Mirror Agent
    participant GH as GitHub
    participant CI as CI Pipeline
    participant M as Mutation Engine
    T->>A: New code merged
    A->>GH: Clone repository
    A->>A: Parse AST + dependency graph
    A->>CI: Fetch coverage (72%)
    A->>A: Identify gaps + generate tests
    A->>CI: Run tests
    CI-->>A: Pass (coverage 81%)
    A->>M: Run mutation testing
    M-->>A: 15 surviving mutants
    A->>A: Generate mutation-killing tests
    A->>CI: Run updated suite
    CI-->>A: Mutation score: 78%
    A->>GH: Create PR with tests`,
  },
  {
    id: "scaffolder",
    number: 3,
    name: "Scaffolder",
    subtitle: "Zero-to-One Agent",
    image: IMAGES.scaffolder,
    color: "#fbbf24",
    glowClass: "glow-amber",
    borderColor: "border-amber-500/30",
    textColor: "text-amber-400",
    bgColor: "bg-amber-500/10",
    bottleneck: "Service creation friction, security baselines",
    description: "Automates the creation of new services from a declarative YAML specification. Generates a complete, production-ready repository including application code, infrastructure-as-code, security baselines, observability configuration, and CI/CD pipeline definitions. Reduces service creation from days to minutes.",
    buildingBlocks: [
      { name: "Spec Parser", description: "Validates developer's YAML spec against JSON Schema. Defines service name, language, infrastructure, integrations, team ownership, and compliance tier." },
      { name: "Template Engine", description: "Cookiecutter for deterministic boilerplate + LLM for adaptive code generation (API stubs, README, test structure)." },
      { name: "IaC Generator", description: "Generates Terraform modules from pre-approved, security-hardened templates. Composes modules based on spec requirements." },
      { name: "Security Baseline Applier", description: "Applies SAST config, dependency scanning, secrets management, container security, network security, and structured logging with PII redaction." },
      { name: "Validator", description: "Runs build, SAST scans, Terraform plan validation, linting, and security baseline verification. Produces pass/fail report." },
    ],
    integrations: [
      { system: "GitHub", type: "REST API", purpose: "Create repositories, commit generated code, open PRs" },
      { system: "Terraform Cloud", type: "API", purpose: "Manage infrastructure state, validate plans" },
      { system: "Semgrep / Bandit", type: "CLI", purpose: "SAST scanning on generated code" },
      { system: "AWS Secrets Manager", type: "AWS SDK", purpose: "Configure secrets for new services" },
      { system: "Internal Service Registry", type: "REST API", purpose: "Register new services for discovery" },
    ],
    safetyRails: [
      { mechanism: "Secure by default", implementation: "Encryption, least-privilege IAM, PII redaction", threshold: "All controls enabled by default" },
      { mechanism: "Compliance tiers", implementation: "Standard / Elevated / FedRAMP controls", threshold: "Spec-driven tier selection" },
      { mechanism: "SAST validation", implementation: "All generated code scanned before PR", threshold: "Zero critical findings" },
      { mechanism: "Template versioning", implementation: "Templates versioned in dedicated repo", threshold: "Update PRs for existing services" },
    ],
    crossCutting: [
      "Single-shot deterministic mode — output is fully verifiable (builds or doesn't)",
      "Compliance tiers: Standard → Elevated → FedRAMP with progressive controls",
      "Template versioning via Copier for updating existing services from evolving templates",
    ],
    mermaidContext: `graph TD
    DEV[Developer] -->|YAML Spec| S((Scaffolder\\nAgent))
    S -->|Create Repo| GH[GitHub]
    S -->|Generate IaC| TF[Terraform]
    S -->|Register| SR[Service Registry]
    S -->|Trigger Build| CI[CI/CD]
    S -->|SAST Scan| SAST[Semgrep]
    S -->|Fetch Baselines| SB[Security Policy]
    S -->|Configure| SM[Secrets Manager]`,
    mermaidRuntime: `sequenceDiagram
    participant D as Developer
    participant A as Scaffolder Agent
    participant GH as GitHub
    participant CI as CI Pipeline
    participant SAST as SAST Scanner
    D->>A: Submit YAML spec
    A->>A: Validate spec
    A->>A: Generate app code
    A->>A: Generate Terraform
    A->>A: Apply security baselines
    A->>SAST: Run SAST scan
    SAST-->>A: No vulnerabilities
    A->>GH: Create repository
    A->>CI: Trigger build
    CI-->>A: Build passes
    A->>GH: Open PR with project
    A->>D: Repository ready`,
  },
  {
    id: "janitor",
    number: 4,
    name: "Janitor",
    subtitle: "Refactoring Agent",
    image: IMAGES.janitor,
    color: "#34d399",
    glowClass: "glow-emerald",
    borderColor: "border-emerald-500/30",
    textColor: "text-emerald-400",
    bgColor: "bg-emerald-500/10",
    bottleneck: "Typing, dependency rot, dead code",
    description: "An autonomous technical debt remediation system that runs continuously in the background. Performs type annotation additions, dependency updates, dead code removal, code style enforcement, and security patch application. Makes small, atomic, independently reviewable changes.",
    buildingBlocks: [
      { name: "Debt Scanner", description: "Collection of sub-scanners: Type Annotation (mypy), Dependency (pip-audit), Dead Code (vulture), Code Style (ruff/black), Security Vulnerability (Snyk)." },
      { name: "Priority Ranker", description: "Scores debt items: Priority = Severity × Impact × Fixability. Security vulnerabilities with known exploits always receive maximum priority." },
      { name: "Refactorer", description: "Deterministic AST transforms for mechanical changes + LLM-guided refactoring for semantic changes. Uses OpenRewrite, Sourcery, custom Go tooling." },
      { name: "Test Runner", description: "Full test suite execution after each refactoring. Regression check comparing before/after results. Failing test aborts the change." },
      { name: "PR Creator", description: "Atomic PRs — one per debt item. Includes title, description, security advisory links, before/after snippets, and test results." },
    ],
    integrations: [
      { system: "Package Registries", type: "PyPI / Go Modules", purpose: "Version info, compatibility checks" },
      { system: "Security Advisories", type: "GitHub Advisories / NVD", purpose: "Vulnerability data for prioritization" },
      { system: "GitHub", type: "REST + GraphQL API", purpose: "Code access, PR creation" },
      { system: "CI/CD Pipeline", type: "GitHub Actions", purpose: "Test execution after refactoring" },
    ],
    safetyRails: [
      { mechanism: "Atomic changes", implementation: "Each PR changes one thing", threshold: "Single debt item per PR" },
      { mechanism: "Full test suite", implementation: "Every change must pass all tests", threshold: "Zero test regressions" },
      { mechanism: "Semantic diff analysis", implementation: "LLM reviews diff for behavioral impact", threshold: "High-risk → human review" },
      { mechanism: "Canary deployment", implementation: "High-risk changes deployed to canary first", threshold: "24h canary period" },
      { mechanism: "One-click revert", implementation: "Every PR includes revert option", threshold: "Instant rollback" },
    ],
    crossCutting: [
      "Hybrid execution: cron-based for routine maintenance, event-driven for urgent security patches",
      "Gradual typing strategy: 5% improvement per month, starting with security-critical modules",
      "Safety through incrementalism — never attempts large-scale refactors",
    ],
    mermaidContext: `graph TD
    subgraph Inputs
        PKG[Package Registries] -->|Versions| J((Janitor\\nAgent))
        SEC[Security Advisories] -->|Vulns| J
        GH[GitHub] -->|Code| J
    end
    subgraph Execution
        J -->|Run Tests| CI[CI/CD]
        CI -->|Results| J
        J -->|Create PRs| GH
    end
    subgraph Config
        POL[Policy Store] -->|Rules| J
        J -->|Metrics| DASH[Dashboard]
    end`,
    mermaidRuntime: `sequenceDiagram
    participant C as Scheduler
    participant A as Janitor Agent
    participant GH as GitHub
    participant CI as CI Pipeline
    C->>A: Trigger daily scan
    A->>GH: Clone repositories
    A->>A: Debt Scanner: full scan
    A->>A: Priority Ranker: score items
    loop Top priority items
        A->>A: Refactorer: apply fix
        A->>CI: Run test suite
        CI-->>A: Tests pass
        A->>GH: Create atomic PR
    end`,
  },
  {
    id: "gatekeeper",
    number: 5,
    name: "Gatekeeper",
    subtitle: "CI Review Agent",
    image: IMAGES.gatekeeper,
    color: "#f472b6",
    glowClass: "glow-rose",
    borderColor: "border-pink-500/30",
    textColor: "text-pink-400",
    bgColor: "bg-pink-500/10",
    bottleneck: "Security review bottleneck, compliance",
    description: "An autonomous PR review system focused on security vulnerabilities and architectural compliance. Operates as a required CI check, analyzing every PR before human review. Provides audit evidence for SOC 2 and FedRAMP compliance frameworks.",
    buildingBlocks: [
      { name: "Diff Analyzer", description: "Semantic diff parsing — classifies changes into: new functionality, bug fix, refactoring, dependency update, config change, security-relevant change." },
      { name: "Security Scanner", description: "Battery of SAST tools: Semgrep (multi-lang), Bandit (Python), gosec (Go), Snyk Code, pip-audit/nancy, Syft (SBOM)." },
      { name: "Architecture Validator", description: "Fitness functions as code: no direct DB access from handlers, no unapproved deps, service boundary enforcement, API versioning, complexity limits." },
      { name: "Compliance Checker", description: "Maps findings to SOC 2 Type II and FedRAMP controls. Every review decision logged to immutable audit trail." },
      { name: "Report Generator", description: "LLM-powered synthesis: Summary verdict, security findings by severity, architecture violations, compliance status, dependency risk assessment." },
    ],
    integrations: [
      { system: "GitHub", type: "Webhook + REST API", purpose: "Receive PR events, post review comments, set CI status" },
      { system: "Semgrep", type: "CLI", purpose: "Custom security rules, OWASP patterns" },
      { system: "Snyk", type: "API + CLI", purpose: "AI-powered vulnerability detection, dependency scanning" },
      { system: "Syft / CycloneDX", type: "CLI", purpose: "SBOM generation for supply chain visibility" },
      { system: "Audit Trail", type: "Immutable Store", purpose: "Compliance evidence for SOC 2 / FedRAMP" },
    ],
    safetyRails: [
      { mechanism: "Confidence scoring", implementation: "Low-confidence findings shown as warnings", threshold: "High confidence → block, Low → warn" },
      { mechanism: "Feedback mechanism", implementation: "Developers mark false positives, system learns", threshold: "Continuous improvement" },
      { mechanism: "Override mechanism", implementation: "Authorized engineers can override with justification", threshold: "security-reviewer role required" },
      { mechanism: "Follow-up review", implementation: "Overrides trigger review within 48 hours", threshold: "48h follow-up window" },
    ],
    crossCutting: [
      "False positive management is the primary adoption threat — confidence scoring + feedback loops",
      "Immutable audit trail for SOC 2 Type II and FedRAMP compliance evidence",
      "Parallel analysis: security, architecture, and compliance checks run concurrently",
    ],
    mermaidContext: `graph TD
    PR[GitHub PR] -->|Webhook| G((Gatekeeper\\nAgent))
    G -->|Scan| SAST[SAST Tools]
    G -->|Check| DEP[Dependency Scanner]
    G -->|SBOM| SBOM[SBOM Generator]
    G -->|Validate| ARCH[Fitness Functions]
    POL[Security Policy] -->|Rules| G
    G -->|Comment| PR
    G -->|Status| CI[CI Pipeline]
    G -->|Log| AUDIT[Audit Trail]`,
    mermaidRuntime: `sequenceDiagram
    participant D as Developer
    participant GH as GitHub
    participant A as Gatekeeper Agent
    participant SAST as SAST Tools
    participant AR as Architecture Validator
    D->>GH: Open Pull Request
    GH->>A: Webhook: PR opened
    A->>GH: Fetch diff
    A->>A: Classify changes
    par Security
        A->>SAST: Run scanners
        SAST-->>A: 2 findings
    and Architecture
        A->>AR: Evaluate rules
        AR-->>A: 1 violation
    end
    A->>A: Synthesize report
    A->>GH: Post review comment
    A->>GH: Set CI status`,
  },
];

export const painPoints = [
  { rank: 1, friction: "Integration Testing for Security-Critical Systems", timeWaste: "15-25% of sprint capacity", impact: "High", description: "Incomplete coverage creates false confidence in microservices processing email security data." },
  { rank: 2, friction: "Triaging Production Alerts (Sentry/PagerDuty)", timeWaste: "23 min per context switch", impact: "Critical", description: "Alert fatigue leads to missed incidents. Developers lose 23 minutes per context switch." },
  { rank: 3, friction: "Updating Legacy Documentation", timeWaste: "5-10% of sprint capacity", impact: "Medium", description: "Stale docs compound onboarding costs and create compliance risk." },
  { rank: 4, friction: "Scaffolding New Microservices", timeWaste: "2-5 days per new service", impact: "High", description: "Security baseline inconsistencies between services create posture gaps." },
  { rank: 5, friction: "Verifying Database Migration Safety", timeWaste: "1-3 days per migration", impact: "Critical", description: "Failed migrations cause data loss. Manual verification is error-prone." },
];

export const frameworkComparison = [
  { name: "LangChain / LangGraph", production: "Medium", debuggability: "Medium", safety: "Basic", state: "Graph-based", recommendation: "Abstraction tax, API instability, security surface area" },
  { name: "AutoGen (Microsoft)", production: "Low-Medium", debuggability: "Low", safety: "Basic", state: "Conversation only", recommendation: "Emergent behavior hard to predict in security context" },
  { name: "CrewAI", production: "Low", debuggability: "Low", safety: "Basic", state: "Task-level", recommendation: "Early stage, rigid architecture, no enterprise track record" },
  { name: "Raw APIs + Custom", production: "High", debuggability: "High", safety: "High", state: "Custom", recommendation: "Maximum control, requires engineering investment" },
  { name: "Temporal.io + Custom", production: "Very High", debuggability: "Very High", safety: "Very High", state: "Durable checkpointing", recommendation: "Recommended — battle-tested at Uber, Netflix, Stripe" },
];

export const riskMatrix = [
  { risk: "LLM Hallucination in Code", severity: "Critical", likelihood: "High", mitigation: "Multi-layer validation: SAST, test execution, human review. RAG grounding. Dependency verification." },
  { risk: "Agent Drift in Long-Running Tasks", severity: "High", likelihood: "Medium", mitigation: "Temporal checkpointing, periodic goal re-validation, max iteration limits." },
  { risk: "Context Window Exhaustion", severity: "Medium", likelihood: "High", mitigation: "RAG for long-term memory, aggressive context pruning, tiered model selection." },
  { risk: "Cost Explosion (Token Usage)", severity: "High", likelihood: "Medium", mitigation: "Per-task cost ceilings ($5-$10), tiered model strategy, caching, dashboards." },
  { risk: "Security Breach via Agent", severity: "Critical", likelihood: "Low", mitigation: "Least privilege, sandbox isolation, no production write access, audit logging." },
  { risk: "Supply Chain Attack (Slopsquatting)", severity: "Critical", likelihood: "Medium", mitigation: "Dependency allowlist, package verification, SBOM generation." },
];

export const roadmap = [
  { phase: "Phase 1: Foundation", days: "Days 1-30", milestones: [
    { week: "1-2", milestone: "Infrastructure Setup", deliverable: "Temporal cluster, PostgreSQL + pgvector, Docker sandbox" },
    { week: "2-3", milestone: "Custom Framework v0.1", deliverable: "ReAct loop engine, tool interface, basic memory" },
    { week: "3-4", milestone: "Gatekeeper Agent MVP", deliverable: "SAST integration, dependency scanning, PR commenting" },
  ]},
  { phase: "Phase 2: Expansion", days: "Days 31-60", milestones: [
    { week: "5-6", milestone: "Janitor Agent MVP", deliverable: "Dependency updates, dead code detection, atomic PRs" },
    { week: "6-7", milestone: "Auto-Triage Agent MVP", deliverable: "Sentry/PagerDuty integration, log analysis (no fix gen)" },
    { week: "7-8", milestone: "Long-term Memory", deliverable: "pgvector integration, RAG pipeline for runbooks" },
  ]},
  { phase: "Phase 3: Maturation", days: "Days 61-90", milestones: [
    { week: "9-10", milestone: "Mirror Agent MVP", deliverable: "Unit test gen for Python, coverage loop, mutation testing" },
    { week: "10-11", milestone: "Auto-Triage Fix Generation", deliverable: "Sandbox-based fix gen, PR creation for simple fixes" },
    { week: "11-12", milestone: "Scaffolder Agent MVP", deliverable: "Python/FastAPI scaffolding, Terraform, security baselines" },
  ]},
];

export const successMetrics = [
  { metric: "MTTR (Mean Time to Resolution)", baseline: "4 hours", target: "1 hour", agent: "Auto-Triage" },
  { metric: "Test Coverage", baseline: "65%", target: "80%", agent: "Mirror" },
  { metric: "Service Creation Time", baseline: "3 days", target: "30 minutes", agent: "Scaffolder" },
  { metric: "Security Review Turnaround", baseline: "2 days", target: "2 hours", agent: "Gatekeeper" },
  { metric: "Dependency Currency", baseline: "60% up-to-date", target: "95% up-to-date", agent: "Janitor" },
];

export const tocSections = [
  { id: "executive-summary", label: "Executive Summary", number: "01" },
  { id: "pain-points", label: "Pain Points", number: "02" },
  { id: "agents", label: "The Five Agents", number: "03" },
  { id: "implementation", label: "Build vs. Buy", number: "04" },
  { id: "risks", label: "Risk Assessment", number: "05" },
  { id: "roadmap", label: "90-Day Roadmap", number: "06" },
  { id: "references", label: "References", number: "07" },
];
